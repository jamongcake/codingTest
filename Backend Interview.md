# Backend Interview

### MVC

모델, 뷰, 컨트롤러로 구성되어 있는 디자인 패턴이다. 모델은 데이터, 뷰는 사용자에게 보여지는 부분, 컨트롤러는 이 둘 사이에서의 상호작용을 처리하고 그 결과를 뷰에서 보여줄수 있게 한다.



### MVVM

모델, 뷰, 뷰모델 패턴이다.  뷰모델도 모델과 뷰사이의 상호작용을 처리하지만, MVC와의 차이는 뷰모델은 뷰를 위한 모델이며 여러 가지 뷰에 제공하는 일반적 객체가 아니라 각각의 뷰에 맞춰서 먼들어진 것이다. 따라서 뷰는 뷰모델에 대해서만 알고 있고 다른 아키텍처를 신경쓰지 않아도 된다.



### 의존성 주입

프로그래밍에서 구성요소간의 의존관계가 소스코드 내부가 아닌 외부의 설정등으 통해 정의되게 하는 패턴입니다. 이것을 통해 모듈들간의 결합도를 낮추고 코드 재사용성을 높이며 테스트의 편의성을 높여줍니다.



### 일반 SQL

```sql
CREATE TABLE table_name( column_name1 data_type(size), column_name2 data_type(size),column_name3 data_type(size) ... );

INSERT INTO table_name (column1, column2....) VALUES ( value1, value2, value3, .... )

UPDATE table_name SET column1=value1, column2=value2 WHERE ...

DELETE FROM table_name WHERE .....

SELECT * FROM table_name WHERE...
```



### 뷰와 테이블의 차이점

테이블이 기본 저장단위라면, 뷰는 테이블의 조건 혹은 조합으로 보여지는 가상의 테이블이다. 뷰없어도 데이터 저장할수는 없지만 테이블 없니는 저장이 되지 않고 반대로 테이블은 데이터 저장단위라서 한눈에 데이터를 보기 어렵지만  뷰는 가독성 좋게 구성해놔서 데이터 내용을 알아보기 쉽다.



### HAVING이 하는 역할

HAVING 절은 집계함수를 가지고 조건 비교를 할때 사용할수 있다.



### 인덱스

DB에서 테이블과 클러스터에 연관되어 독립적인 저장 공간을 보유하고 있는 객체이며 자료를 더욱 빠르게 조회하기 위해서 사용한다.



### NoSQL 데이터 베이스 는 무엇인가

전통적인 관계형 데이터베이스보다 덜 제한적인 일관성 모델을 이용한다. NoSQL DB는 단순 검색 및 추가 작업을 위한 최적화된 키 값 저장 공간으로 레이턴시와 스루풋과 관련해서 상당한 성능 이익이 목적이다.



### 브라우저에 URL을 입력하고 요청한 페이지를 볼때까지 어떤일이 일어나는가?

1. 브라우저 URL 입력

2. 브라우저 URL 분석 및 해석

   * URL을 분석하여 프로토콜, 호스트, 서버 포트, 호출 파일등을 분석.

3. 도메인을 IP 주소로 변환 및 해당 주소로 접속

   * DNS서버에 질의해서 호스트명을 IP주소로 반환 값 얻어와 해당 IP 주소와 포트로 접속

4. Ruquest Header 전송

   ```
   사이트를 호출할ㄸㅐ 아래 같은 Request Header가 존재한다.
   GET( 요청 방식) / test.html (경로) HTTP/1.1 (프로토콜 버전)
   Accept : *-* ( 응답하여 해석할 파일의 종류)
   Referer: ( 호출전 경로 )
   User-Agent : ( 브라우저의 Agent 값)
   Accept-Encoding : gzip, deflate ( 수신 가능한  body 인코딩 종류)
   Host : 호출할 호스트"
   ```

5. Request Data

   * POST 방식으로 데이터를 전송할때 Request Header를 서버로 전송한 후 Request 데이터를 보낸다. 이 데이터를 보내려면 POST로 지정후 데이터를 전송한다.
   * 데이터를 보내는 방식에는 form-urlencode, multipart-formdata를 이용해서 보내는 방식이 있다. 전자는 텍스트 위주의 폼데이터 일때, 후자는 서버로 파일을 전송할 때 사용된다.

6. Response Header

   ```
   "HTTP/1.1 200OK
   Server: Apache
   Content-Length:xx
   Transfer-Encoding:데이터 인코딩 타입
   Content-Type:text/html; charset=utf-8

   위와 같은 형태로 나타난다."
   ```

7. Response Body

   * 응답헤더가 출력되고 바디가 출력되는데 이것은 응답 헤더의 인코딩 타입에 따라 달라진다.



### HTTP Method

| METHOD | DESCRIPTION                              |
| ------ | ---------------------------------------- |
| GET    | URI로 지정한 정보를 도출하며 파일의 경우 해당 파일의 내용을 되돌려 보낸다. |
| POST   | 클라이언트에서 서버로 데이터를 송신한다.                   |
| HEAD   | GET과 거의 같지만 HTTP메세지 헤더만 전송하고 데이터의 내용을 돌려보내지 않는다. |
| PUT    | URI로 지정한 서버의 파일을 치환한다. 없으면 새로 만든다.       |
| DELETE | URI로 지정한 서버의 파일을 삭제한다.                   |



### 서버에서 페이지 요청시 TCP 3 way handshake 일어나는 방식

- TCP 3-way handshake : TCP/IP 프로토콜을 이용해서 통신을 하는 응용프로그램이 데이터를 전송하기 전에 먼저 정확한 전송을 보장하기위해 상대방 컴퓨터에 사전에 세션을 수립하는 과정을 의미한다.

1. 클라이언트는 서버에 접속을 요청하는 SYN 패킷을 보낸다. 이때 클라이언트는 SYN을 보내고 SYN/ACK 응답을 기다리는 SYN_SENT 상태가 된다.
2. 서버는 SYN요청을 받고 클라이언트에게 요청을 수락한다는 ACK와 SYN flag가 설정된 패킷을 발송하고 클라이언트가 다시 ACK로 응답하길 기다린다.
   이때 서버는 SYN_RECEIVED 상태가 된다.
3. 클라이언트는 서버에게 ACK를 보내고 이후부터는 연결이 이루어지고 데이터가 오가게 되는 것이다. 이때 서버상태가 ESTABLISHED 이다.



### HTTP 와 HTTPS 프로토콜의 차이점을 무엇인가?

- HTTP
  하이퍼텍스트 트랜스퍼 프로토콜 의 약자로 클라이언트와 서버사이에 이루어지는 프로토콜이며 HTML문서를 주고 받는다. HTTP는 클라이언트가 요청한 페이지를 암호화 되지 않는 상태로 주고 받을수 있어 중간에 정보를 가로챌수 있다. 반면에 접속 도중 끊기더라도 처음부터 다시 시작할 필요가 없다. 
  - Port : 80
- HTTPS
  S 는 SSL를 의미하는 것으로 주고 받는 정보가 암호화되어 있음을 뜻한다.
  이 암호화는 클라이언트는 공개키를, 서버는 개인키를 이용하는 방식이다. 서버는 접속한 클라이언트에게 공개키를 보내고 이를 통해 이용자의 암호화된 정보를 서버는 개인키로 볼수 있어서 중간에 가로채도 알수가 없다.하지만 서버에 과부하가 걸리는 경우가 있으며 접속이 끊기게 되면 처음부터 다시 시작해야 한다. 
  - Port : 443



### HTTP 서버 응답 코드

| 결과   | 코드   | 설명                                       |
| ---- | ---- | ---------------------------------------- |
| 성공   | 200  | 클라이언트 요청을 정상적으로 수행시에 사용한다.  응답 바디에는 요청과 관련된 내용을 넣어준다. |
|      | 201  | 클라이언트의 리소스 생성 요청을 성공적으로 했을때 사용한다.        |
|      | 202  | 클라이언트 요청이 비동기적으로 처리될 때 사용한다.             |
|      | 204  | 클라이언트의 요청을 정상적으로 수행시에 사용한다. 응답 바디가 없다. (delete 같은 경우), 알려줄 정보가 하나도 없을때 |
| 실패   | 400  | 클라이언트의 요청이 부적절할때 사용, 요청 실패시 가장 많이 사용됨. 응답 바디에 실패 이유를 넣어준다. |
|      | 401  | 클라이언트가 인증되지 않은 상태에서 보호된 리소스를 요청시 사용, 비로그인 상태로 로그인 정보 요구등 |
|      | 403  | 클라이언트가 인증과 상관없이 응답하고 싶지 않은 리소스를 요청했을때 사용한다. 하지만 400이나 404로 응답하는게 좋다. |
|      | 404  | 클라이언트가 요청한 리소스가 존재하지 않을때 사용하는 응답         |
|      | 405  | 클라이언트가 요청한 리소스에서는 사용 불가능한 메소드를 이용했을때 사용하는 응답 |
|      | 409  | 클라이언트가 서버의 리소스를 접근 불가능하거나 동기화되지 않은 상태로 바꾸려고 했을때 사용 |
| 기타   | 301  | 클라이언트가 요청한 리소스에 대한 URI가 변경되었을때 사용, 응답시 헤더에 URI 보내줌 |
|      | 500  | 서버에 문제가 잇을때 사용                           |



### TCP/UDP의 포트 목록 

- 0 ~ 1023 : 잘 알려진 포트 well-known port
- 1024 ~ 49151 : 등록된 포트 registered port
- 49152 ~ 65535 : 동적 포트 dynamic port
- [목록 참고하기](https://ko.wikipedia.org/wiki/TCP/UDP%EC%9D%98_%ED%8F%AC%ED%8A%B8_%EB%AA%A9%EB%A1%9D)

| port | service          |
| ---- | ---------------- |
| 21   | FTP              |
| 22   | SSH              |
| 23   | telnet           |
| 25   | SMTP 메일 발송       |
| 80   | HTTP             |
| 110  | POP3 메일 수신       |
| 443  | HTTPS            |
| 3389 | 터미널 서비스( 원격 테스트톱 |



### SSH이란?

- 원격 컴퓨터에 안전하게 액세스 하기위한 유닉스 기반의 명령 인터페이스 및 프로토콜이다. 네트워크 관리자들이 웹서버를 포함한 여러 종류의 서버들을 원격지에서 제어하기 위해 사용된다. 
- 보안 로그인 쉘로 SSH를 통한 모든 데이터는 암호화되며 트래픽은 압축되어 더 빠른 전송 효율을 얻을수 있다.



### 가상화는 무엇인가?

- 물리적 요소와 위치를 추상화하는 것을 말한다. 서버, 에플리케이션, 테스크탑, 스토리지, 네트워킹 등의 IT 리소스는 물리적 디바이스에서 분리되어 논리적 리소스로 제공된다. 가상화 기술은 물리적 리소스와 논리적 리소스 간의 매핑을 생성하고 실행한다.

#### 가상화의 이점

- 신속한 애플리케이션 구축, 애플리케이션 서비스 수준 및 가용성 제고
- 높은 인프라스트럭처 투자 활용도, 빠르고 유연한 확장
- 인프라스트럭처, 에너지 및 설비 비용 절감
- 관리 부담 경감, IT 보안 강화
- 장소에 구애받지 않는 데스크탑 애플리케이션 및 데이터 액세스





### 프로세스와 스레드의 차이

| 프로세스                                     | 스레드                                      |
| ---------------------------------------- | ---------------------------------------- |
| 프로세스는 운영체제로부터 자원을 할당받는 작업의 단위이다.         | 스레드는 프로세스가 할당받은 자원을 이용하는 실행의 단위이다.       |
| 프로세스는 실행될 때 OS로부터 운영되기 위한 주소공간, 메모리등 자원을 할당받는다. | 스레드는 한 프로세스 내에서 동작되는 여러 실행의 흐름으로, 프로세스 내의 주소 공간이나 자원들을 같은 프로세스 내에 스레드 끼리 공유하면서 실행된다. |

- 이점 

  멀티 프로세스 작업을 멀티 스레드로 실행할 경우 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리할수 있습니다. 또한 프로세스 간의 통신보다 스레드 간의 통신 비용이 적으므로 작업들간의 통신 부담이 줄어들게 됩니다.

- 주의할점

  스레드를 활용하면 자원공유는 전역 변수를 이용하기 때문에 데드락, 동기화 문제에 신경을 써야 한다.




### CDN이란?

- Content delivery network 라고 하며 컨텐츠를 효율적으로 전달하기 위해 여러 노드를 가진 네트워크에 데이터를 저장하여 제공하는 시스템을 말한다. 인터넷 사이트에서는 대용량 컨텐츠를 많은 사람들이 동시에 이용할 경우 과부하가 발생해 전송 속도가 떨어지거나 서비스 중단될수 있는데 이러한 병목현상을 막아준다. 컨텐츠가 여러 ISP 망을 경우하면서 부하를 줄이고 이동 경로를 최적화한다.
- 장점
  - 병목현상을 막아준다.
  - 페이지 로딩 속도가 빠르다.
  - 서비스 제공자의 서버 트래픽을 덜어준다.
  - Dos 공격에 대해서 어느정도는 보호해 줄수 있다.
- 단점
  - 로드하려는 파일이 있는 서버가 다운이 된다면 파일을 가져올수 없다.


